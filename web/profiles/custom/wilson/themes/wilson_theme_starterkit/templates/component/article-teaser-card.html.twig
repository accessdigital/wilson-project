{% set classes = [
  'relative',
  'block',
  'flex',
  'w-full',
  'flex-col',
  link_url ? 'group' : '',
  'bg-primary',
  'text-primary-contrast',
  'rounded-xl',
  'overflow-hidden'
] %}

<div{{ attributes.addClass(classes) }}>
  {{ title_prefix }}
  {{ title_suffix }}

  {% if image %}
    <div class="overflow-hidden relative">
      <div class="group-hover:scale-110 transition-transform duration-300">
        {{ image }}
      </div>

      {% if pre_header %}
        <span class="inline-block absolute top-4 left-4 bg-white/50 py-2 px-3 text-grey-800 rounded-lg uppercase font-semibold tracking-wider text-xs">
          {{ pre_header }}
        </span>
      {% endif %}
    </div>
  {% endif %}

  <div class="pt-5 px-5 pb-8">
    {% if headline %}
      <h3 class="font-medium text-2xl mb-4 last:mb-0">{{ headline }}</h3>
    {% endif %}

    {% if caption %}
      <p>{{ caption }}</p>
    {% endif %}
  </div>

  {% if link_url or published_date %}
    <div class="mt-auto pb-5 px-5 flex flex-row flex-wrap justify-between gap-3 items-center">
      {% if link_url %}
        <a href="{{ link_url }}" class="btn btn--secondary after:absolute after:inset-0 text-sm">{{ link_text }}</a>
      {% endif %}

      {% if published_date %}
        <time class="font-semibold text-sm whitespace-nowrap">{{ published_date }}</time>
      {% endif %}
    </div>
  {% endif %}
</div>
